
> main()
> main()
[1] "5769e63befec720f24e15416"
[1] "57abc3a9efec720de87c862b"
[1] "58112217efec720cd46e264e"
[1] "58112217efec720cd46e2650"
[1] "58112217efec720cd46e2652"
[1] "58112218efec720cd46e2656"
[1] "58112218efec720cd46e2658"
[1] "5823eeccefec720f2c0a99c8"
[1] TRUE
Warning messages:
1: In postgresqlExecStatement(conn, statement, ...) :
  RS-DBI driver warning: (unrecognized PostgreSQL field type void (id:2278) in column 0)
2: In postgresqlExecStatement(conn, statement, ...) :
  RS-DBI driver warning: (unrecognized PostgreSQL field type void (id:2278) in column 0)
3: In postgresqlExecStatement(conn, statement, ...) :
  RS-DBI driver warning: (unrecognized PostgreSQL field type void (id:2278) in column 0)
> 
> 


-----------------------------------------------------------------------------------------------------
Postgres array columns

https://code.google.com/archive/p/rpostgresql/issues/5

suppressWarnings(rs <- dbSendQuery(conn,"select yourarray::float8[] from dual")) 
newTS<-fetch(rs,n=-1)

> newTS
                                                                                                data_sensor
1                                                                                                       {1}
2                                                                                                     {1,2}
3         {121,156,117,231,68,240,24,185,124,133,56,42,50,27,25,166,248,209,202,39,57,138,197,52,149,96,33}
4                {118,67,213,231,69,0,20,186,230,69,24,114,45,195,25,163,178,111,198,236,83,73,86,4,16,0,0}
5                {118,67,213,231,69,0,20,186,230,69,24,115,45,195,25,163,178,111,198,236,83,73,86,4,16,0,0}
6                {118,67,213,231,69,0,20,186,230,69,24,114,45,195,25,163,178,111,198,236,83,73,86,4,16,0,0}
7         {121,156,117,231,68,240,24,185,124,133,56,42,50,27,25,166,248,209,202,39,57,138,197,52,149,96,33}
8                     {6,5,231,116,232,114,138,49,247,228,192,5,0,83,255,252,0,0,2,128,5,128,4,127,192,0,0}
9                {118,67,213,231,69,0,20,186,230,69,24,114,45,195,25,163,178,111,198,236,83,73,86,4,16,0,0}
10        {121,156,117,231,68,240,24,185,124,133,56,42,50,27,25,166,248,209,202,39,57,138,197,52,149,96,33}
11 {124,111,181,231,101,0,28,95,73,11,92,86,144,159,89,219,0,221,196,50,31,170,123,241,236,83,73,86,6,16,0}
12        {121,156,117,231,68,240,24,185,124,133,56,42,50,27,25,166,248,209,202,39,57,138,197,52,149,96,33}

# does not work
df<-data.frame(arr=as.array(strapply(newTS$yourarray,"(([0-9]+)(\.[0-9]+)*)",as.numeric)),)

or

# also does not work
df<-data.frame(as.array(lapply(strsplit(substr(newTS$vals,2,nchar(newTS$vals)-1),",",fixed=TRUE),as.numeric)))


> values2list = function (v) { as.numeric(unlist(strsplit(substring(v, 2, nchar(v)-1), ","))) }

values2list(newTS$data_sensor[3])
 [1] 121 156 117 231  68 240  24 185 124 133  56  42  50  27  25 166 248 209 202
[20]  39  57 138 197  52 149  96  33

> values2list(newTS$data_sensor)
  [1]   1   1   2 121 156 117 231  68 240  24 185 124 133  56  42  50  27  25
 [19] 166 248 209 202  39  57 138 197  52 149  96  33 118  67 213 231  69   0
 [37]  20 186 230  69  24 114  45 195  25 163 178 111 198 236  83  73  86   4
 [55]  16   0   0 118  67 213 231  69   0  20 186 230  69  24 115  45 195  25
 [73] 163 178 111 198 236  83  73  86   4  16   0   0 118  67 213 231  69   0
 [91]  20 186 230  69  24 114  45 195  25 163 178 111 198 236  83  73  86   4
[109]  16   0   0 121 156 117 231  68 240  24 185 124 133  56  42  50  27  25
[127] 166 248 209 202  39  57 138 197  52 149  96  33   6   5 231 116 232 114
[145] 138  49 247 228 192   5   0  83 255 252   0   0   2 128   5 128   4 127
[163] 192   0   0 118  67 213 231  69   0  20 186 230  69  24 114  45 195  25
[181] 163 178 111 198 236  83  73  86   4  16   0   0 121 156 117 231  68 240
[199]  24 185 124 133  56  42  50  27  25 166 248 209 202  39  57 138 197  52
[217] 149  96  33 124 111 181 231 101   0  28  95  73  11  92  86 144 159  89
[235] 219   0 221 196  50  31 170 123 241 236  83  73  86   6  16   0 121 156
[253] 117 231  68 240  24 185 124 133  56  42  50  27  25 166 248 209 202  39
[271]  57 138 197  52 149  96  33

